<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Scope Tests</title>
</head>
<body>
    <script src="../util/test.js"></script>
    <script>
        badGlobal = 0;
        const myFun = n => {
            badGlobal = 1; // side effect
            return n * 2;
        };
        testEquals(badGlobal, 0);
        testEquals(myFun(2),  4);
        testEquals(badGlobal, 1);

        function myOtherFunction(n) {
            if (n < 5) {
                var badVar = 2;
            }
            return n * badVar;
        }
        testEquals   (myOtherFunction(2),  4);
        testNotEquals(myOtherFunction(10), 20);

        const goodFunction = n => {
            if (n <5 ) {
                let goodVar = 1;
                goodVar = 2;
                testEquals(goodVar, 2);
                return n * goodVar;
            }
            return n * goodVar; // terrible error
        };
        testEquals(goodFunction(2), 4);


    </script>
</body>
</html>

